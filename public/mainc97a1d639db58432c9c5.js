(()=>{var e={16:()=>{const e=document.querySelector(".header__dark-mode"),t=document.querySelector("body"),o=localStorage.getItem("mode")?localStorage.getItem("mode"):null;o&&t.classList.add("dark-mode"),e.addEventListener("click",(()=>{t.classList.toggle("dark-mode"),o?localStorage.setItem("mode",""):localStorage.setItem("mode","dark")}))}},t={};function o(n){var a=t[n];if(void 0!==a)return a.exports;var c=t[n]={exports:{}};return e[n](c,c.exports,o),c.exports}(()=>{"use strict";const e=document.querySelector(".cards"),t=t=>{e.innerHTML="",t.forEach((t=>{const o=t.name.common,n=t.population,a=t.region,c=t.capital?t.capital[0]:"No capital",s=t.flags.svg,r=document.createElement("li");r.classList.add("cards__item"),r.innerHTML=`\n        <a href="./about.html?country=/name/${o}">\n              <img\n                src=${s}\n                alt="usa-flag"\n                width="267"\n                height="160"\n              />\n              <div class="cards__item-inner">\n                <h3 class="cards__title">${o}</h3>\n                <p class="population">Population: <span>${n}</span></p>\n                <p class="region">Region: <span>${a}</span></p>\n                <p class="capital">Capital: <span>${c}</span></p>\n              </div>\n            </a> \n        `,e.appendChild(r)}))},n=(document.querySelector(".country-info"),document.querySelector(".loader")),a=e=>{e?n.classList.remove("hidden"):n.classList.add("hidden")},c=async e=>{a(!0);const t=await fetch(e);if(!t.ok)throw a(!1),new Error("Upps api error");const o=await t.json();return a(!1),o},s=document.querySelector(".search");s.search.addEventListener("input",(()=>{const e=s.search.value.toLowerCase();console.log(e);const t=document.querySelectorAll(".cards__item");document.querySelectorAll(".cards__title").forEach(((o,n)=>{o.textContent.toLowerCase().includes(e)?t[n].style.display="block":t[n].style.display="none"}))}));const r=document.querySelectorAll(".search__select-list li"),l=document.querySelector(".search__select span");r.forEach((e=>{e.addEventListener("click",(()=>{let o;l.textContent=e.textContent,o="All"==e.textContent?"https://restcountries.com/v3.1/":`https://restcountries.com/v3.1/region/${e.textContent}`,c(o).then((e=>{t(e)})).catch((e=>{console.log(e)}))}))})),o(16),c("https://restcountries.com/v3.1/all").then((e=>{t(e)})).catch((e=>{console.log(e)}))})()})();